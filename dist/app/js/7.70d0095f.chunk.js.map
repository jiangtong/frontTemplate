{"version":3,"sources":["webpack:///./src/pages/Login/common/assets/img/xtzy.png","webpack:///./src/pages/Login/common/assets/img/background1.png","webpack:///./src/pages/Login/common/assets/img/map.png","webpack:///./src/pages/Login/common/assets/img/dengluyeyonghuming1.png","webpack:///./src/pages/Login/common/assets/img/dengluyemima1.png","webpack:///./src/utils/request/BaseRequest.js","webpack:///./src/common/data-commen/api/Login/index.js","webpack:///./src/utils/request/BaseSubFormRequest.js","webpack:///./src/pages/Login/index.js"],"names":["module","exports","history","createHashHistory","BaseRequest","options","this","dataMethodDefaults","baseURL","timeout","headers","transformRequest","data","qs","stringify","defaultRequestOptions","request","axios","create","interceptors","use","config","err","reject","response","resolve","useResponse","errorCode","clearLocal","pathname","location","replace","query","redirect","error","errMsg","status","msg","success","url","get","post","responseType","then","useData","downUrl","window","URL","createObjectURL","Blob","link","document","createElement","style","display","href","setAttribute","fileName","body","appendChild","click","Request","params","httpRequest","upload","LoginComponent","state","userName","pwd","event","name","target","value","setState","obj","token","userNo","relationNo","relationType","studentLoginInfo","teacherLoginInfo","teacherNo","teacherName","sex","idCardNo","birthdate","politicsStatus","nation","nativePlace","originPlace","education","educationStr","degree","degreeStr","firstDeptName","firstDeptCode","secondDeptName","secondDeptCode","professionalTitle","professionalTitleStr","graduateSchool","graduateMajor","graduateDate","hiredate","phone","isDoubleProfessionally","isDoubleProfessionallyStr","isCoreTeacher","isCoreTeacherStr","isMajorLeader","isMajorLeaderStr","isCollegeCertificate","isCollegeCertificateStr","isJobCertificate","isJobCertificateStr","managerType","managerTypeStr","isQuit","isQuitStr","pictureUrl","majorTeacher","menuInfo","systemNo","systemName","menuList","menuNo","menuName","menuLevel","menuUrl","parentMenuNo","parentMenuLevel","moduleList","props","username","password","md5","login","res","simulatedLoad","setSession","length","menuItem","className","alt","src","img","width","img1","img2","img3","onChange","handelChange","placeholder","type","img4","maxLength","onClick","goLogin","Component","withRouter"],"mappings":"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","file":"app/js/7.70d0095f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"app/images/xtzy_89e46c4.png\";","module.exports = __webpack_public_path__ + \"app/images/background1_7313eb0.png\";","module.exports = __webpack_public_path__ + \"app/images/map_0ba3c94.png\";","module.exports = __webpack_public_path__ + \"app/images/dengluyeyonghuming1_0482f71.png\";","module.exports = __webpack_public_path__ + \"app/images/dengluyemima1_1f66562.png\";","/** @format */\n\nimport axios from 'axios';\nimport qs from 'qs';\nimport { createHashHistory } from 'history';\nimport { clearLocal } from '@utils/utils';\n\nconst history = createHashHistory();\n\nclass BaseRequest {\n    constructor(options) {\n        this.dataMethodDefaults = {\n            baseURL: '',\n            timeout: 60000,\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded'\n            },\n\n            transformRequest: [\n                (data, headers) => {\n                    if (\n                        headers['Content-Type'] ===\n                        'application/x-www-form-urlencoded'\n                    ) {\n                        return qs.stringify(data);\n                    }\n                    if (headers['Content-Type'] === 'multipart/form-data') {\n                        return data;\n                    }\n                    return JSON.stringify(data);\n                }\n            ]\n        };\n\n        this.defaultRequestOptions = {\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded'\n            },\n            ...options\n        };\n\n        this.request = axios.create({ ...this.dataMethodDefaults, ...options });\n\n        // 请求参数可以做一些操作\n        this.request.interceptors.request.use(\n            config => {\n                return config;\n            },\n            err => {\n                return Promise.reject(err);\n            }\n        );\n\n        // 请求响应拦截\n        this.request.interceptors.response.use(\n            response => {\n                // 对响应数据做点什么\n                return new Promise(resolve => {\n                    const useResponse = response.data;\n                    if (parseInt(useResponse.errorCode, 10) === 401) {\n                        resolve(useResponse);\n                        // 清楚缓存 这里先注释了吧\n                        clearLocal();\n                        const { pathname } = history.location;\n                        history.replace({\n                            pathname: '/login',\n                            query: {\n                                redirect: pathname\n                            }\n                        });\n                    } else {\n                        resolve(useResponse);\n                    }\n                });\n            },\n            error => {\n                // 对响应错误做点什么\n                let errMsg = '';\n                if (error && error.response) {\n                    switch (error.response.status) {\n                        case 400:\n                            errMsg = '请求错误';\n                            break;\n                        case 401:\n                            errMsg = '未授权，请重新登录';\n                            break;\n                        case 403:\n                            errMsg = '拒绝访问';\n                            break;\n                        case 404:\n                            errMsg = '请求出错';\n                            break;\n                        case 405:\n                            errMsg = '请求方式错误';\n                            break;\n                        case 408:\n                            errMsg = '请求超时';\n                            break;\n                        case 500:\n                            errMsg = '服务器错误';\n                            break;\n                        case 501:\n                            errMsg = '服务未实现';\n                            break;\n                        case 502:\n                            errMsg = '网络错误';\n                            break;\n                        case 503:\n                            errMsg = '服务不可用';\n                            break;\n                        case 504:\n                            errMsg = '网络超时(504)';\n                            break;\n                        case 505:\n                            errMsg = 'HTTP版本不受支持';\n                            break;\n                        default:\n                            errMsg = '连接出错!';\n                    }\n                }\n                return new Promise(resolve => {\n                    resolve({\n                        msg: errMsg,\n                        success: false\n                    });\n                });\n            }\n        );\n    }\n\n    get(url, data = {}) {\n        return this.request.get(url, data);\n    }\n\n    post(url, data = undefined, config = {}) {\n        return this.request.post(url, data, {\n            ...this.defaultRequestOptions,\n            ...config\n        });\n    }\n\n    upload(url, data = undefined, config = {}) {\n        return this.request.post(url, data, {\n            ...config,\n            headers: { 'Content-Type': 'multipart/form-data' }\n        });\n    }\n\n    downLoad(url, data = undefined, config = {}) {\n        return this.request\n            .post(url, data, {\n                ...this.defaultRequestOptions,\n                ...config,\n                responseType: 'blob'\n            })\n            .then(response => {\n                const useData = response;\n                if (!useData) {\n                    return new Promise(resolve => {\n                        resolve({ success: false, msg: '文件下载失败' });\n                    });\n                }\n                const downUrl = window.URL.createObjectURL(new Blob([useData]));\n                const link = document.createElement('a');\n                link.style.display = 'none';\n                link.href = downUrl;\n                link.setAttribute('download', data.fileName);\n                document.body.appendChild(link);\n                link.click();\n                return new Promise(resolve => {\n                    resolve({ success: true, msg: '文件下载成功' });\n                });\n            });\n    }\n}\n\nexport function createHttpClient(options) {\n    return new BaseRequest(options);\n}\n\nexport default BaseRequest;\n","/** @format */\n\nimport BaseSubFormRequest from '@utils/request/BaseSubFormRequest';\n\nclass Request extends BaseSubFormRequest {\n    //  师资概况——专业\n    static login(params) {\n        return this.post('/user/login', params);\n    }\n}\n\nexport default Request;\n","/** @format */\n\nimport { createHttpClient } from '@utils/request/BaseRequest';\n\n/**\n * 可以使用createHttpClient重新更改请求头等信息\n * 也可以在get或者post的config添加特定的请求头信息\n */\n\nclass BaseSubFormRequest {\n    constructor() {\n        this.httpRequest = createHttpClient({});\n    }\n\n    /**\n     * @url 接口地址\n     * @data 数据\n     * @config 具体的请求头的信息配置\n     */\n\n    static get(url, data = {}, config = {}) {\n        return new this().httpRequest.get(url, {\n            ...config,\n            params: { ...data }\n        });\n    }\n\n    static post(url, data = undefined, config = {}) {\n        return new this().httpRequest.post(url, data, { ...config });\n    }\n\n    static upload(url, data = undefined, config = {}) {\n        return new this().httpRequest.upload(url, data, { ...config });\n    }\n}\n\nexport default BaseSubFormRequest;\n","/** @format */\n\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Col, message } from 'antd';\nimport '@pages/Login/common/assets/styles/login.less';\nimport Request from '@src/common/data-commen/api/Login';\nimport { setSession } from '@utils/utils';\nimport img from '@pages/Login/common/assets/img/xtzy.png';\nimport md5 from 'md5';\nimport img1 from '@pages/Login/common/assets/img/background1.png';\nimport img2 from '@pages/Login/common/assets/img/map.png';\nimport img3 from '@pages/Login/common/assets/img/dengluyeyonghuming1.png';\nimport img4 from '@pages/Login/common/assets/img/dengluyemima1.png';\n\nclass LoginComponent extends Component {\n    state = {\n        userName: '',\n        pwd: ''\n    };\n\n    /**\n     * 处理输入\n     */\n    handelChange(event) {\n        const { name } = event.target;\n        const { value } = event.target;\n        this.setState({\n            [name]: value\n        });\n    }\n\n    simulatedLoad() {\n        return new Promise(resolve => {\n            setTimeout(() => {\n                resolve({\n                    success: true,\n                    msg: '成功',\n                    obj: {\n                        token: 'e3b207402b6f4988b3690ff673812519',\n                        userNo: 'U1541852904075',\n                        userName: '马英华',\n                        relationNo: '0401004',\n                        relationType: 'HEADMASTER',\n                        studentLoginInfo: null,\n                        teacherLoginInfo: {\n                            teacherNo: '0401004',\n                            teacherName: '马英华',\n                            sex: '女',\n                            idCardNo: '',\n                            birthdate: '1978-04-06',\n                            politicsStatus: '',\n                            nation: '',\n                            nativePlace: '河北省邢台市南宫市',\n                            originPlace: '河北省邢台市南宫市',\n                            education: 'SS',\n                            educationStr: '硕士',\n                            degree: 'SS',\n                            degreeStr: '硕士',\n                            firstDeptName: '教辅机构',\n                            firstDeptCode: '1003',\n                            secondDeptName: '高职研究所（质量管理办公室）',\n                            secondDeptCode: '100302',\n                            professionalTitle: 'FJS',\n                            professionalTitleStr: '副教授',\n                            graduateSchool: '',\n                            graduateMajor: '',\n                            graduateDate: '',\n                            hiredate: '',\n                            phone: '',\n                            isDoubleProfessionally: 'NO',\n                            isDoubleProfessionallyStr: '否',\n                            isCoreTeacher: 'NO',\n                            isCoreTeacherStr: '否',\n                            isMajorLeader: 'NO',\n                            isMajorLeaderStr: '否',\n                            isCollegeCertificate: 'NO',\n                            isCollegeCertificateStr: '否',\n                            isJobCertificate: 'NO',\n                            isJobCertificateStr: '否',\n                            managerType: 'OTHERMANAGERS',\n                            managerTypeStr: '其他管理人员',\n                            isQuit: 'NO',\n                            isQuitStr: '否',\n                            pictureUrl: ''\n                        },\n                        majorTeacher: null,\n                        menuInfo: {\n                            systemNo: 'WHHX',\n                            systemName: '五横画像',\n                            menuList: [\n                                {\n                                    menuNo: 'WHHXF1710',\n                                    menuName: '师资-校领导',\n                                    menuLevel: 'ONE',\n                                    menuUrl: '',\n                                    parentMenuNo: '',\n                                    menuList: [\n                                        {\n                                            menuNo: 'WHHXF1710S1711',\n                                            menuName: 'demo1-组件加载',\n                                            menuLevel: 'TWO',\n                                            menuUrl: '/teachermanager/survey',\n                                            parentMenuNo: 'WHHXF1710',\n                                            parentMenuLevel: 'ONE',\n                                            menuList: [],\n                                            moduleList: []\n                                        },\n                                        {\n                                            menuNo: 'WHHXF1710S1712',\n                                            menuName: 'demo2-saga',\n                                            menuLevel: 'TWO',\n                                            menuUrl: '/teachermanager/saga',\n                                            parentMenuNo: 'WHHXF1710',\n                                            parentMenuLevel: 'ONE',\n                                            menuList: [],\n                                            moduleList: []\n                                        },\n                                        {\n                                            menuNo: 'WHHXF1710S1714',\n                                            menuName: 'demo2-rematch',\n                                            menuLevel: 'TWO',\n                                            menuUrl: '/teachermanager/rematch',\n                                            parentMenuNo: 'WHHXF1710',\n                                            parentMenuLevel: 'ONE',\n                                            menuList: [],\n                                            moduleList: []\n                                        },\n                                        {\n                                            menuNo: 'WHHXF1710S1713',\n                                            menuName: 'demo3-hooks',\n                                            menuLevel: 'TWO',\n                                            menuUrl: '/teachermanager/hooks',\n                                            parentMenuNo: 'WHHXF1710',\n                                            parentMenuLevel: 'ONE',\n                                            menuList: [],\n                                            moduleList: []\n                                        }\n                                    ]\n                                }\n                            ]\n                        }\n                    },\n                    errorCode: 0\n                });\n            }, 2000);\n        });\n    }\n\n    /**\n     * 登录\n     */\n    async goLogin() {\n        const query = this.props.location?.query; // 获取到传递过来的query对象也就是登录失败的时候存的url地址\n        const redirect = query?.redirect;\n\n        if (!this.state.userName) {\n            message.error('请输入账号！');\n            return;\n        }\n        if (!this.state.pwd) {\n            message.error('密码不能为空！');\n            return;\n        }\n        const params = {\n            username: this.state.userName,\n            password: md5(this.state.pwd)\n        };\n\n        let res = await Request.login(params);\n        res = await this.simulatedLoad();\n\n        if (res.success) {\n            setSession('auth', res.obj);\n            if (res.obj.menuInfo) {\n                const { menuList } = res.obj.menuInfo;\n                if (menuList.length > 0) {\n                    const menuItem = menuList[0];\n                    if (menuItem.menuList.length > 0) {\n                        this.props.history.replace(\n                            redirect || menuItem.menuList[0].menuUrl\n                        );\n                    } else {\n                        this.props.history.replace(\n                            redirect || menuItem.menuUrl\n                        );\n                    }\n                }\n            }\n        } else {\n            message.error(res.msg || '登录失败');\n        }\n    }\n\n    componentDidMount() {}\n\n    render() {\n        return (\n            <Col className=\"login-container\">\n                <div className=\"main_container\">\n                    <div className=\"main_title\">\n                        <img alt=\"\" src={img} style={{ width: '196px' }} />\n                        {/* <span>校园大数据应用平台</span> */}\n                    </div>\n                    <div className=\"main_content\">\n                        <img alt=\"\" className=\"banner\" src={img1} />\n                        <img alt=\"\" className=\"bannericon\" src={img2} />\n                        <div className=\"main_login\">\n                            <h2>教学诊改五横画像平台</h2>\n                            <div className=\"login_user\">\n                                <img alt=\"\" src={img3} />\n                                <input\n                                    name=\"userName\"\n                                    onChange={this.handelChange.bind(this)}\n                                    placeholder=\"请输入登录帐号\"\n                                    type=\"text\"\n                                    value={this.state.userName}\n                                />\n                            </div>\n\n                            <div className=\"login_pwd\">\n                                <img alt=\"\" src={img4} />\n                                <input\n                                    maxLength=\"12\"\n                                    name=\"pwd\"\n                                    onChange={this.handelChange.bind(this)}\n                                    type=\"password\"\n                                    value={this.state.pwd}\n                                />\n                            </div>\n                            <span className=\"error_info\"></span>\n\n                            <button\n                                type=\"button\"\n                                className=\"login_btn\"\n                                onClick={this.goLogin.bind(this)}\n                            >\n                                登录\n                            </button>\n                        </div>\n                    </div>\n                    <div className=\"main_footer\">\n                        <div className=\"side_content_footer\"></div>\n                    </div>\n                </div>\n            </Col>\n        );\n    }\n}\n\nexport default withRouter(LoginComponent);\n"],"sourceRoot":""}